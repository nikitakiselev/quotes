:80 {
    # Отдача статических файлов
    root * /usr/share/caddy
    file_server

    # Проксирование API запросов к Rust backend
    handle /api/* {
        reverse_proxy backend_rust:8081
    }

    # SPA routing - все остальные запросы отдаем index.html
    handle {
        try_files {path} /index.html
    }
}

