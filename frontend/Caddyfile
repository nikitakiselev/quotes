:80 {
    # Отдача статических файлов
    root * /usr/share/caddy
    file_server

    # Проксирование API запросов к backend
    # Используем Go backend, так как Rust backend пока не работает
    handle /api/* {
        reverse_proxy backend:8080
    }

    # SPA routing - все остальные запросы отдаем index.html
    handle {
        try_files {path} /index.html
    }
}

